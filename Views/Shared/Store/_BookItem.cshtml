@model BookStore.ViewModels.BookCardViewModel   
@using BookStore.Models.Store
<style>
    .book-card img {
        height: 200px;
        object-fit: contain;
    }
    .book-title {
        font-size: 1rem;
        font-weight: 600;
        min-height: 3em;
    }
    .star-rating {
        color: #f0c14b;
    }
</style>

<div class="col">
    <div class="card book-card h-100">
        <a href="@Url.Action("Index", "Book", new { BookID = Model.Book.ID })">
            <img src="@Model.Book.BookCoverImages.First().ImageURL" class="card-img-top" alt="Book Cover">
        </a>
        <div class="card-body d-flex flex-column">
            <div class="book-title">
                <a href="@Url.Action("Index", "Book", new { BookID = Model.Book.ID })" class="text-dark text-decoration-none">
                    @Model.Book.Title
                </a>
            </div>
            <div class="text-muted small mb-1">by @Model.Book.Author</div>
            <div class="mb-2 star-rating">
                ★★★★☆ <span class="text-muted small">(1,234)</span>
            </div>
            <div class="fw-bold mb-2">$@Model.Book.Price</div>
            @using (Html.BeginForm(@Model.IsInCart ? "RemoveBook" : "AddBook", "Cart", FormMethod.Post))
            {
                @Html.Hidden("UserID", Session["UserID"])
                @Html.Hidden("BookID", Model.Book.ID)
                <button type="submit" class="btn btn-sm @(Model.IsInCart ? "btn-danger" : "btn-warning") mt-auto">
                    @(Model.IsInCart ? "Remove from Cart" : "Add to Cart")
                </button>
            }
        </div>
    </div>
</div>